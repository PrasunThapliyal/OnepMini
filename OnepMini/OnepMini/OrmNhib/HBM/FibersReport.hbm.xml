<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns = "urn:nhibernate-mapping-2.2"
   assembly = "OnepMini" namespace = "TopologyRestLibrary.V1.Etp.Reports">
  <class name="FibersReport" table="fibers_report" lazy="true">
    <id name = "Id" column="oid">
      <generator class = "hilo"/>
    </id>

    <property name="McpProjectId" type="StringClob">
      <column name="mcpProjectId" index="fibers_report_mcpProjectId_idx"  sql-type="text"/>
    </property>

    <!--This is a unidirectional one-to-many relationship on a foreign key, and is not recommended-->
    <!--See https://nhibernate.info/doc/nhibernate-reference/associations.html--> 
    <bag name="Data" lazy="true" cascade="all-delete-orphan" inverse="false" fetch="select">
      <key column="fibersReport" not-null="true" update="false" ></key>
      <one-to-many class="FibersReportItem"></one-to-many>
    </bag>

    <!--This is a unidirectional one-to-many relationship with join tables, and is the recommended way-->
    <!--<bag name="Data" lazy="true" cascade="all-delete-orphan" >
      <key column="fibersReport" not-null="true" ></key>
      <many-to-many class="FibersReportItem" column="dataId" unique="true"></many-to-many>
    </bag>-->

  </class>
</hibernate-mapping>
