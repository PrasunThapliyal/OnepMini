<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns = "urn:nhibernate-mapping-2.2"
   assembly = "OnepMini" namespace = "TopologyRestLibrary.V1.Etp.Reports">

  <class name="FibersReport" table="fibers_report" lazy="true" >
    <id name = "OId" column="oid">
      <generator class = "hilo"/>
    </id>


    <!--This works, btw-->
    <!--<bag name="Data" lazy="false" cascade="all-delete-orphan" fetch="select">
        <key column="fibersReport" foreign-key="fibers_report_item_FK_fibersReport" ></key>
        <one-to-many class="FibersReportItem"></one-to-many>
    </bag>-->

    <bag name="Data" lazy="true" cascade="all-delete-orphan"  inverse="false" fetch="select">
        <key column="fibersReport" not-null="true" update="false" foreign-key="fibers_report_item_FK_fibersReport" ></key>
        <one-to-many class="FibersReportItem"></one-to-many>
    </bag>

    <!--Mapping a list of string-->
    <bag name="MyListOfStrings1" table="fibers_report_my_list_of_strings1">
      <key column="fibersReport" foreign-key="fibers_report_my_list_of_strings1_FK_fibersReport" />
      <element column="myListOfStrings1" />
    </bag>

    <bag name="MyListOfStrings2" table="fibers_report_my_list_of_strings2">
      <key column="fibersReport" foreign-key="fibers_report_my_list_of_strings2_FK_fibersReport" />
      <element column="myListOfStrings2" />
    </bag>

    <property name="AcctType" column="acct_type" not-null="true" />


  </class>
</hibernate-mapping>
